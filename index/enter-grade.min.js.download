$(document).ready(function(){var a=!1;$("#enter-grade").fadeOut(0),$("#enter-grade-button").click(function(){return $("#enter-grade").fadeToggle("slow",function(){$("#enter-grade").is(":visible")&&$("#enter-grade").find("*").filter(":input:visible:eq(0)").focus()}),!1}),$("input#input-grade").keydown(function(a){46==a.keyCode||8==a.keyCode||9==a.keyCode||27==a.keyCode||13==a.keyCode||65==a.keyCode&&a.ctrlKey===!0||a.keyCode>=35&&a.keyCode<=39||(a.shiftKey||(a.keyCode<48||a.keyCode>57)&&(a.keyCode<96||a.keyCode>105))&&a.preventDefault()}),$("#submit-grade").dblclick(function(a){a.preventDefault()}),$("#submit-grade").click(function(){if(console.log(a),!a){$("#submit-grade").attr("disabled","disabled");var b=!1;if(""==$("input#input-grade").val()||isNaN(parseInt($("input#input-grade").val(),10)))b=!0;else{var c=parseInt($("input#input-grade").val(),10);(0>c||c>100)&&(b=!0)}return b?(msg="<p>Please enter a number in the range 0 to 100.</p>",$("#modal-message .modal-body").html(msg),$("#modal-message").modal("show"),$("#submit-grade").removeAttr("disabled"),!1):($("#submit-grade").attr("disabled","disabled"),a=!0,$.ajax({type:"POST",url:"/ajax/students/submitGrade",data:{grade:c,tutorial:tutorial,taskId:taskId,menuId:menuId},dataType:"json",success:function(a){1==a.success?(msg="",msg=c>=passGrade?"<p>Congratulations! You have successfully completed this lesson.</p>":"<p>Keep trying. You may need to review the tutorial before attempting the worksheet again.</p>",$("input#input-grade").val(""),$("#enter-grade").fadeOut("slow"),$("#modal-message .modal-body").html(msg),$("#modal-message").modal("show")):1==a.sessionexpired&&showSessionExpired()},error:function(a){$("#modal-message .modal-body").html("<div>"+a+"</div>"),$("#modal-message").modal("show")},complete:function(){$("#submit-grade").removeAttr("disabled"),a=!1}}),void 0)}})});