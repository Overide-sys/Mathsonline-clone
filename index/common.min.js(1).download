var nextTutorial,worksheetLoaded=!1,solutionsLoaded=!1,lessonSummaryLoaded=!1,tutorialHasWeeklyRevision=!1;function enableSolutionsLink(e){e?($("#solutions-button").css("opacity","1"),$("#solutions-button-download").css("opacity","1").attr("href","/students/viewPDF/solution/"+tutorialHash+"/"+topLevelMenuId),$("#solutions-button-new-window").css("opacity","1").attr("href",s3BaseUrl+"/assets/lessons/pdf/s"+tutorialHash+"-"+topLevelMenuId+".pdf")):($("#solutions-button").css("opacity",".5"),$("#solutions-button-download").css("opacity",".5").removeAttr("href"),$("#solutions-button-new-window").css("opacity",".5").removeAttr("href"))}function createAndClickOnNextLesson(){var e="/students/lessons/"+menuId+"/"+nextTutorial;$("<a />",{id:"continue-next-lesson",href:e,text:"click"}).hide().appendTo("body")[0].click();$("#continue-next-lesson").remove()}$(document).ready(function(){$("#worksheet-button").click(function(){return worksheetLoaded?$("#worksheet").fadeToggle("slow"):($("#worksheet").empty().append("<div id='loading' style='margin: 10px 0; padding: 40px; background: #fff; text-align: center; border: 1px solid rgba(0,0,0,0.25);'><img src='/assets/images/loading.gif' alt='Loading' /></div>"),$.ajax({type:"POST",url:"/ajax/students/getWorksheet",data:{tutorial:tutorial},dataType:"json",success:function(e){1==e.success?($("#worksheet").html(e.html).fadeTo("slow",1),worksheetLoaded=!0):1==e.sessionexpired&&showSessionExpired()}})),!1}),enableSolutionsLink(canViewSolutions),$("#solutions-button").click(function(){return canViewSolutions&&(solutionsLoaded?$("#solutions").fadeToggle("slow"):($("#solutions").empty().append("<div id='loading' style='margin: 10px 0; padding: 40px; background: #fff; text-align: center; border: 1px solid rgba(0,0,0,0.25);'><img src='/assets/images/loading.gif' alt='Loading' /></div>"),$.ajax({type:"POST",url:"/ajax/students/getSolutions",data:{tutorial:tutorial},dataType:"json",success:function(e){1==e.success?($("#solutions").html(e.html).fadeTo("slow",1),"true"===e.loaded&&(solutionsLoaded=!0)):1==e.sessionexpired&&showSessionExpired()}}))),!1}),$("#lesson-summary-button").click(function(){return lessonSummaryLoaded?$("#lesson-summary").fadeToggle("slow"):($("#lesson-summary").empty().append("<div id='loading' style='margin: 10px 0; padding: 40px; background: #fff; text-align: center; border: 1px solid rgba(0,0,0,0.25);'><img src='/assets/images/loading.gif' alt='Loading' /></div>"),$.ajax({type:"POST",url:"/ajax/students/getLessonSummary",data:{tutorial:tutorial},dataType:"json",success:function(e){1==e.success?($("#lesson-summary").html(e.html).fadeTo("slow",1),lessonSummaryLoaded=!0):1==e.sessionexpired&&showSessionExpired()}})),!1}),$('a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=$(e.relatedTarget),s=$(e.target);"#tabTutorial"==t.attr("href")?($("#externalTabTutorial").css({visibility:"hidden",height:"0px",overflow:"hidden"}),document.getElementById("tutorialPlayer")&&document.getElementById("tutorialPlayer").pauseVideo(),document.getElementById("htmlTutorialPlayer")&&document.getElementById("htmlTutorialPlayer").pause()):"#tabTutorial"==s.attr("href")&&$("#externalTabTutorial").css({visibility:"visible",height:""}),"#tabPresentation"!==s.attr("href")&&jQuery().presentation&&$("#svg-presentation").presentation("pause")})});