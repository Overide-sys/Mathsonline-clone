var toolbarInited;jQuery.fn.reverse=[].reverse;var currentQuestionData,currentQuestionSetData,currentQuestionContainer,startTime,questionSetId=0,questionLoading=!1,questionNumbers=[],retryStartQuestionBar=new $.peekABar({animation:{type:"fade",duration:1e3},cssClass:"custom-bar"}),waitStartQuestionBar=new $.peekABar({animation:{type:"fade",duration:1e3},cssClass:"custom-bar",autohide:!0,delay:15e3,html:"Due to an unexpected network error your question could not be loaded at this time. Please try again in a minute.",onHide:function(){$("#start-questions").show()}}),retryNextQuestionBar=new $.peekABar({animation:{type:"fade",duration:1e3},cssClass:"custom-bar"}),waitNextQuestionBar=new $.peekABar({animation:{type:"fade",duration:1e3},cssClass:"custom-bar",autohide:!0,delay:15e3,html:"Due to an unexpected network error your next question could not be loaded at this time. Please try again in a minute.",onHide:function(){$("#button-next-question").removeAttr("disabled")}}),retryLoadQuestionBar=new $.peekABar({animation:{type:"fade",duration:1e3},cssClass:"custom-bar"}),waitLoadQuestionBar=new $.peekABar({animation:{type:"fade",duration:1e3},cssClass:"custom-bar",autohide:!0,delay:15e3,html:"Due to an unexpected network error your question could not be loaded at this time. Please try again in a minute."});function startQuestions(i,s){i=i||0,s=s||"",$("#start-questions").hide(),toolbarInited=!1,$("#button-next-question").attr("disabled","disabled"),void 0===this.taskId&&(taskId=0);var t={tutorial:tutorial,tutorialMaster:tutorialMaster,menuId:menuId,taskId:taskId,isDiagnostic:isDiagnostic,questionNumber:questionNumber,diagnosticTypeId:diagnosticTypeId,errorFunction:"startQuestions",retryCount:i,lastError:s};t.retryCount=i,t.lastError=s,questionLoading?logDebug("DOUBLE QUESTION. getQuestionSetData: "+JSON.stringify(t)+", currentQuestionSetData: "+JSON.stringify(currentQuestionSetData)):i<5?(questionLoading=!0,$.ajax({type:"POST",url:"/ajax/students/getQuestionSet",data:t,dataType:"json",success:function(t){questionLoading=!1,questionNumbers=[],1==t.sessionexpired?showSessionExpired():t?(questionSetId=t.questionSetId,currentQuestionSetData=t,tutorialHasWeeklyRevision=t.tutorialHasWeeklyRevision,toolbarInited||updateToolbar(t.pointsRequired,t.pointsCompleted,t.questionNumber-1,t.correct,t.incorrect,"true"===isDiagnostic),toolbarInited=!0,ajaxData={questionId:t.nextQuestionId},loadQuestion(ajaxData),$("#question-set-intro").hide(),$("#question-set-complete").hide(),$("#question-set-viewport").stop().fadeIn("fast"),$("#question-set-toolbar").stop().fadeIn("fast"),$("#button-submit-answer").stop().fadeIn("fast"),$(".go-fullscreen").stop().fadeIn("fast"),$("#question-set-viewport #question-set-container").empty(),$("#button-next-question").hide()):($("#interactives-container").hide(),$("#no-question-found").show())},error:function(t,e){questionLoading=!1,s=0<t.responseText.length?t.responseText:"Network error",1<i?(setTimeout(function(){showStartQuestionReconnect(6)},1e3),setTimeout(function(){startQuestions(i+1,s)},6e3)):startQuestions(i+1,s)}})):setTimeout(function(){waitStartQuestionBar.show()},1e3)}function showStartQuestionReconnect(t){0<--t?(retryStartQuestionBar.show({html:"Could not start your question at this time. We will try again in "+t+" seconds."}),setTimeout(function(){showStartQuestionReconnect(t)},1e3)):retryStartQuestionBar.hide()}function updateToolbar(t,e,i,s,n,o){unitsRequired=parseInt(t),unitsCompleted=o?2*parseInt(i):parseInt(e),s=parseInt(s),n=parseInt(n);var a=0<unitsRequired?unitsCompleted/unitsRequired*100:0,r=0<s+n?s/(s+n)*100:0;$("#question-set-progress-bar").animate({width:a+"%"},300,"linear"),$("#question-set-grade").html("<strong><span style='color: chocolate'>"+Math.round(r)+"%</span></strong>"),$("#question-set-correct").html("<strong>"+s+" out of "+(s+n)+"</strong>")}function updateQuestionSetResult(t,e,i,s){t=parseInt(t),e=parseInt(e),s=Math.round(s/1e3);var n=t+e,o=0<n?parseInt(t/n*100):0,a=parseInt(o/100*i),r=Math.floor(s/60),u=s%60,c=r+" "+(1==r?"min":"mins");0<u&&(c+=" "+u+" "+(1==u?"sec":"secs"));var l={grade:o,correct:t,total:n,points:a,duration:c};$("#question-set-container").prepend($("#template-results-header").render(l))}function addQuestion(i){$("body > span.dragme.noprint").stop().fadeOut("slow",function(){$(this).remove()}),$("#question-set-viewport #question-set-container .question-container").stop().fadeOut("slow"),setTimeout(function(){var t="";"true"==isDebug&&(t="<div class='question-debug-info'><div>Question: "+i.tutorialMaster+"-"+i.questionNumber+"</div><div>Points: "+i.points+"</div><div>Difficulty: "+i.difficulty+"</div></div>");var e="<div class='question-container' data-qn='"+currentQuestionSetData.questionNumber+"' data-id='"+currentQuestionSetData.nextQuestionId+"' data-typeid='"+i.questionTypeId+"'>"+t+i.html+"</div>";switch($(e).hide().appendTo("#question-set-viewport #question-set-container").stop().fadeIn("slow"),currentQuestionContainer=$("[data-qn='"+currentQuestionSetData.questionNumber+"']"),i.questionTypeId){case 1:$(currentQuestionContainer).mc({selectMultiple:"true"===i.allowMultipleSelection});break;case 2:$(currentQuestionContainer).input({allowMultipleSelection:"true"===i.allowMultipleSelection,markingSequence:i.markingSequence,autoTab:"true"===i.autoTab,noPartialMarks:"true"===i.noPartialMarks})}$("#button-submit-answer").removeAttr("disabled"),$("#button-submit-answer").show(),startTime=new Date,$("#timer-message").addClass("active"),$("#timer-message").html("TIMER ON"),"undefined"!=typeof MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub])},1e3)}function getNextQuestion(i,s){i=i||0,s=s||"",$("#button-next-question").attr("disabled","disabled"),void 0===this.taskId&&(taskId=0);var t={tutorial:tutorial,tutorialMaster:tutorialMaster,menuId:menuId,taskId:taskId,isDiagnostic:isDiagnostic,questionNumber:questionNumber,diagnosticTypeId:diagnosticTypeId,errorFunction:"getNextQuestion"};t.retryCount=i,t.lastError=s,questionLoading?logDebug("DOUBLE QUESTION. getQuestionSetData: "+JSON.stringify(t)+", currentQuestionSetData: "+JSON.stringify(currentQuestionSetData)):i<5?(questionLoading=!0,$.ajax({type:"POST",url:"/ajax/students/getQuestionSet",data:t,dataType:"json",success:function(t){questionLoading=!1,1==t.sessionexpired?showSessionExpired():t?(questionSetId=t.questionSetId,currentQuestionSetData=t,tutorialHasWeeklyRevision=t.tutorialHasWeeklyRevision,toolbarInited||updateToolbar(t.pointsRequired,t.pointsCompleted,t.questionNumber-1,t.correct,t.incorrect,"true"===isDiagnostic),toolbarInited=!0,ajaxData={questionId:t.nextQuestionId},loadQuestion(ajaxData),$("#button-next-question").hide()):($("#interactives-container").hide(),$("#no-question-found").show())},error:function(t,e){questionLoading=!1,s=0<t.responseText.length?t.responseText:"Network error",1<i?(setTimeout(function(){showNextQuestionReconnect(6)},1e3),setTimeout(function(){getNextQuestion(i+1,s)},6e3)):getNextQuestion(i+1,s)}})):setTimeout(function(){waitNextQuestionBar.show()},1e3)}function showNextQuestionReconnect(t){0<--t?(retryNextQuestionBar.show({html:"Could not get your next question at this time. We will try again in "+t+" seconds."}),setTimeout(function(){showNextQuestionReconnect(t)},1e3)):retryNextQuestionBar.hide()}function loadQuestion(t,e,i){e=e||0,i=i||"",t.errorFunction="loadQuestion",t.retryCount=e,t.lastError=i,e<5?$.ajax({type:"POST",url:"/ajax/students/getQuestion",data:t,dataType:"json",success:function(t){1==t.sessionexpired?showSessionExpired():addQuestion(currentQuestionData=t)},error:function(t){i=0<xhr.responseText.length?xhr.responseText:"Network error",1<e?(setTimeout(function(){showLoadQuestionReconnect(6)},1e3),setTimeout(function(){loadQuestion(t,e+1,i)},6e3)):loadQuestion(t,e+1,i)}}):setTimeout(function(){waitLoadQuestionBar.show()},1e3)}function showLoadQuestionReconnect(t){0<--t?(retryLoadQuestionBar.show({html:"Could not load your next question at this time. We will try again in "+t+" seconds."}),setTimeout(function(){showLoadQuestionReconnect(t)},1e3)):retryLoadQuestionBar.hide()}function disableQuestion(){switch(currentQuestionData.questionTypeId){case 1:$(currentQuestionContainer).mc("disable");break;case 2:$(currentQuestionContainer).input("disable")}}function submitAnswer(){var t=parseInt(new Date-startTime);switch(currentQuestionData.questionTypeId){case 1:$(currentQuestionContainer).mc("submit",questionSetId,currentQuestionSetData.nextQuestionId,currentQuestionSetData.activeTutorial,t,submitCallback);break;case 2:$(currentQuestionContainer).input("submit",questionSetId,currentQuestionSetData.nextQuestionId,currentQuestionSetData.activeTutorial,t,submitCallback)}}function submitCallback(){0<arguments.length&&(data=arguments[0],updateToolbar(data.pointsRequired,data.pointsCompleted,currentQuestionSetData.questionNumber,data.totalCorrect,data.totalIncorrect,"true"===isDiagnostic),"true"===data.completed?setTimeout(function(){updateQuestionSetResult(data.totalCorrect,data.totalIncorrect,data.pointsCompleted,data.duration);var e=!0,i=0;$("#question-set-viewport #question-set-container .question-container").wrapAll("<div class='questions-wrapper' />"),$("#question-set-viewport #question-set-container .question-container").each(function(){var t=$(this).attr("data-qn");switch(questionNumbers.includes("Q"+t)&&(questionNumbers.push("Q"+t),logDebug("REPEATING QUESTION NUMBER. submitCallback: "+JSON.stringify("Q"+t)+", data: "+JSON.stringify(data))),e&&(i+=1,$(this).before("<div class='row' id='row-"+i+"'></div>")),$("#row-"+i).append(this),e=!e,$(this).wrap('<div class="col-xs-6"></div>'),$(this).addClass("print-layout print-layout-zoom"),$(this).stop().fadeIn("slow"),$(this).prepend('<div class="print-layout-question-number">Q'+t+"</div>"),$(this).append('<hr style="margin:16px 0px 8px 0px" />'),parseInt($(this).attr("data-typeid"))){case 1:$(this).mc("prepareToPrint");break;case 2:$(this).input("prepareToPrint")}}),$("#button-submit-answer").hide(),$("#question-set-toolbar").hide(),$(".go-fullscreen").hide(),$("#interactives-container").removeClass("fullscreen"),$("#question-set-complete").show(),0==tutorialHasWeeklyRevision&&showMessageDialog(data)},3e3):($("#button-submit-answer").hide(),$("#button-next-question").removeAttr("disabled"),$("#button-next-question").stop().fadeIn("slow")))}function showMessageDialog(e){$.ajax({type:"GET",url:"/ajax/students/getStudentPassingGrade",dataType:"json",success:function(t){getNextLesson(e,t)},error:function(t){console.log("error",t)}})}function getNextLesson(c,l){$.ajax({type:"POST",url:"/ajax/students/getLessonsInTopic",data:{menuId:menuId,tutorial:tutorial},success:function(t){var e=JSON.parse(t),i=$.grep(e,function(t,e){return parseInt(t.tutorial)==parseInt(tutorial)});if(void 0!==i[0]){var s=parseInt(i[0].lessonId),n=$.grep(e,function(t,e){return parseInt(t.lessonId)>s});void 0!==n[0]?nextTutorial=n[0].tutorial:(nextTutorial=i[0].tutorial,$("#next-lesson").addClass("hidden"));var o=parseInt(c.totalCorrect/(c.totalCorrect+c.totalIncorrect)*100),a="",r=$("#modal-message #btn-retry"),u=$("#modal-message #btn-continue");l<=o?(a="<p>Congratulations! You have successfully completed this lesson.</p>",100!=o?r.removeClass("hidden"):r.addClass("hidden"),u.removeClass("hidden"),void 0!==n[0]&&u.text("Continue to next lesson ("+n[0].lessonCaption+")"),$("#next-lesson").removeClass("hidden")):(a="<p>Keep trying. You may need to review the tutorial before attempting the questions again.</p>",r.removeClass("hidden"),u.addClass("hidden"),$("#next-lesson").addClass("hidden")),a+="<p>You scored "+o+"% ("+c.totalCorrect+" out of "+(c.totalCorrect+c.totalIncorrect)+").</p>",$("#modal-message .modal-body").html(a),$("#modal-message").modal({backdrop:"static",show:!0}),$("#modal-message").on("hidden.bs.modal",function(t){$("#confetti").fadeOut(1e3,function(){$(this).remove()})});-1!=["1","3","4","8"].indexOf(currentQuestionSetData.countryId)&&-1!=["1","2","3","4","5","6","7"].indexOf(i[0].courseId)&&100==o&&showConfetti()}else $("#next-lesson").addClass("hidden")},error:function(t){console.log("error",t)}})}function logDebug(t){$.ajax({type:"POST",url:"/ajax/students/logDebug",data:{description:t,menuId:menuId,tutorial:tutorial},success:function(){console.log(t)},error:function(t){console.log("error",t)}})}function showConfetti(){$("body").append('<div id="confetti"</div>');var l=Math.PI/180,d=(Math.PI,[["#df0049","#660671"],["#00e857","#005291"],["#2bebbc","#05798a"],["#ffd200","#b06c00"]]);function h(t,e){this.x=t,this.y=e,this.Length=function(){return Math.sqrt(this.SqrLength())},this.SqrLength=function(){return this.x*this.x+this.y*this.y},this.Equals=function(t,e){return t.x==e.x&&t.y==e.y},this.Add=function(t){this.x+=t.x,this.y+=t.y},this.Sub=function(t){this.x-=t.x,this.y-=t.y},this.Div=function(t){this.x/=t,this.y/=t},this.Mul=function(t){this.x*=t,this.y*=t},this.Normalize=function(){var t=this.SqrLength();if(0!=t){var e=1/Math.sqrt(t);this.x*=e,this.y*=e}},this.Normalized=function(){var t=this.SqrLength();if(0==t)return new h(0,0);var e=1/Math.sqrt(t);return new h(this.x*e,this.y*e)}}function p(t,e,i,s){this.position=new h(t,e),this.mass=i,this.drag=s,this.force=new h(0,0),this.velocity=new h(0,0),this.AddForce=function(t){this.force.Add(t)},this.Integrate=function(t){var e=this.CurrentForce(this.position);e.Div(this.mass);var i=new h(this.velocity.x,this.velocity.y);i.Mul(t),this.position.Add(i),e.Mul(t),this.velocity.Add(e),this.force=new h(0,0)},this.CurrentForce=function(t,e){var i=new h(this.force.x,this.force.y),s=this.velocity.Length(),n=new h(this.velocity.x,this.velocity.y);return n.Mul(this.drag*this.mass*s),i.Sub(n),i}}function r(t,e){this.pos=new h(t,e),this.rotationSpeed=600*Math.random()+800,this.angle=l*Math.random()*360,this.rotation=l*Math.random()*360,this.cosA=1,this.size=5,this.oscillationSpeed=1.5*Math.random()+.5,this.xSpeed=40,this.ySpeed=60*Math.random()+50,this.corners=new Array,this.time=Math.random();var i=Math.round(Math.random()*(d.length-1));this.frontColor=d[i][0],this.backColor=d[i][1];for(var s=0;s<4;s++){var n=Math.cos(this.angle+l*(90*s+45)),o=Math.sin(this.angle+l*(90*s+45));this.corners[s]=new h(n,o)}this.Update=function(t){this.time+=t,this.rotation+=this.rotationSpeed*t,this.cosA=Math.cos(l*this.rotation),this.pos.x+=Math.cos(this.time*this.oscillationSpeed)*this.xSpeed*t,this.pos.y+=this.ySpeed*t,this.pos.y>r.bounds.y&&(this.pos.x=Math.random()*r.bounds.x,this.pos.y=0)},this.Draw=function(t){0<this.cosA?t.fillStyle=this.frontColor:t.fillStyle=this.backColor,t.beginPath(),t.moveTo(this.pos.x+this.corners[0].x*this.size,this.pos.y+this.corners[0].y*this.size*this.cosA);for(var e=1;e<4;e++)t.lineTo(this.pos.x+this.corners[e].x*this.size,this.pos.y+this.corners[e].y*this.size*this.cosA);t.closePath(),t.fill()}}function m(t,e,i,s,n,o,a,r){this.particleDist=s,this.particleCount=i,this.particleMass=a,this.particleDrag=r,this.particles=new Array;var u=Math.round(Math.random()*(d.length-1));this.frontColor=d[u][0],this.backColor=d[u][1],this.xOff=Math.cos(l*o)*n,this.yOff=Math.sin(l*o)*n,this.position=new h(t,e),this.prevPosition=new h(t,e),this.velocityInherit=2*Math.random()+4,this.time=100*Math.random(),this.oscillationSpeed=2*Math.random()+2,this.oscillationDistance=40*Math.random()+40,this.ySpeed=40*Math.random()+80;for(var c=0;c<this.particleCount;c++)this.particles[c]=new p(t,e-c*this.particleDist,this.particleMass,this.particleDrag);this.Update=function(t){var e=0;this.time+=t*this.oscillationSpeed,this.position.y+=this.ySpeed*t,this.position.x+=Math.cos(this.time)*this.oscillationDistance*t,this.particles[0].position=this.position;var i=this.prevPosition.x-this.position.x,s=this.prevPosition.y-this.position.y,n=Math.sqrt(i*i+s*s);for(this.prevPosition=new h(this.position.x,this.position.y),e=1;e<this.particleCount;e++){var o=h.Sub(this.particles[e-1].position,this.particles[e].position);o.Normalize(),o.Mul(n/t*this.velocityInherit),this.particles[e].AddForce(o)}for(e=1;e<this.particleCount;e++)this.particles[e].Integrate(t);for(e=1;e<this.particleCount;e++){var a=new h(this.particles[e].position.x,this.particles[e].position.y);a.Sub(this.particles[e-1].position),a.Normalize(),a.Mul(this.particleDist),a.Add(this.particles[e-1].position),this.particles[e].position=a}this.position.y>m.bounds.y+this.particleDist*this.particleCount&&this.Reset()},this.Reset=function(){this.position.y=-Math.random()*m.bounds.y,this.position.x=Math.random()*m.bounds.x,this.prevPosition=new h(this.position.x,this.position.y),this.velocityInherit=2*Math.random()+4,this.time=100*Math.random(),this.oscillationSpeed=2*Math.random()+1.5,this.oscillationDistance=40*Math.random()+40,this.ySpeed=40*Math.random()+80;var t=Math.round(Math.random()*(d.length-1));this.frontColor=d[t][0],this.backColor=d[t][1],this.particles=new Array;for(var e=0;e<this.particleCount;e++)this.particles[e]=new p(this.position.x,this.position.y-e*this.particleDist,this.particleMass,this.particleDrag)},this.Draw=function(t){for(var e=0;e<this.particleCount-1;e++){var i=new h(this.particles[e].position.x+this.xOff,this.particles[e].position.y+this.yOff),s=new h(this.particles[e+1].position.x+this.xOff,this.particles[e+1].position.y+this.yOff);this.Side(this.particles[e].position.x,this.particles[e].position.y,this.particles[e+1].position.x,this.particles[e+1].position.y,s.x,s.y)<0?(t.fillStyle=this.frontColor,t.strokeStyle=this.frontColor):(t.fillStyle=this.backColor,t.strokeStyle=this.backColor),0==e?(t.beginPath(),t.moveTo(this.particles[e].position.x,this.particles[e].position.y),t.lineTo(this.particles[e+1].position.x,this.particles[e+1].position.y),t.lineTo(.5*(this.particles[e+1].position.x+s.x),.5*(this.particles[e+1].position.y+s.y)),t.closePath(),t.stroke(),t.fill(),t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(i.x,i.y),t.lineTo(.5*(this.particles[e+1].position.x+s.x),.5*(this.particles[e+1].position.y+s.y))):e==this.particleCount-2?(t.beginPath(),t.moveTo(this.particles[e].position.x,this.particles[e].position.y),t.lineTo(this.particles[e+1].position.x,this.particles[e+1].position.y),t.lineTo(.5*(this.particles[e].position.x+i.x),.5*(this.particles[e].position.y+i.y)),t.closePath(),t.stroke(),t.fill(),t.beginPath(),t.moveTo(s.x,s.y),t.lineTo(i.x,i.y),t.lineTo(.5*(this.particles[e].position.x+i.x),.5*(this.particles[e].position.y+i.y))):(t.beginPath(),t.moveTo(this.particles[e].position.x,this.particles[e].position.y),t.lineTo(this.particles[e+1].position.x,this.particles[e+1].position.y),t.lineTo(s.x,s.y),t.lineTo(i.x,i.y)),t.closePath(),t.stroke(),t.fill()}},this.Side=function(t,e,i,s,n,o){return(t-i)*(o-s)-(e-s)*(n-i)}}h.Lerp=function(t,e,i){return new h((e.x-t.x)*i+t.x,(e.y-t.y)*i+t.y)},h.Distance=function(t,e){return Math.sqrt(h.SqrDistance(t,e))},h.SqrDistance=function(t,e){var i=t.x-e.x,s=t.y-e.y;return i*i+s*s+z*z},h.Scale=function(t,e){return new h(t.x*e.x,t.y*e.y)},h.Min=function(t,e){return new h(Math.min(t.x,e.x),Math.min(t.y,e.y))},h.Max=function(t,e){return new h(Math.max(t.x,e.x),Math.max(t.y,e.y))},h.ClampMagnitude=function(t,e){var i=t.Normalized;return new h(i.x*e,i.y*e)},h.Sub=function(t,e){return new h(t.x-e.x,t.y-e.y,t.z-e.z)},r.bounds=new h(0,0),m.bounds=new h(0,0);var u=new(u={Context:function(t){var e=0,i=document.getElementById(t),s=document.createElement("canvas");s.width=i.offsetWidth,s.height=i.offsetHeight,i.appendChild(s);var n=s.getContext("2d"),o=new Array;for(m.bounds=new h(s.width,s.height),e=0;e<50;e++)o[e]=new m(Math.random()*s.width,-Math.random()*s.height*2,30,8,8,45,1,.05);var a=new Array;for(r.bounds=new h(s.width,s.height),e=0;e<100;e++)a[e]=new r(Math.random()*s.width,Math.random()*s.height);this.resize=function(){s.width=i.offsetWidth,s.height=i.offsetHeight,r.bounds=new h(s.width,s.height),m.bounds=new h(s.width,s.height)},this.start=function(){this.stop();this.interval=setInterval(function(){u.update()},1e3/30)},this.stop=function(){clearInterval(this.interval)},this.update=function(){var t=0;for(n.clearRect(0,0,s.width,s.height),t=0;t<100;t++)a[t].Update(1/30),a[t].Draw(n);for(t=0;t<50;t++)o[t].Update(1/30),o[t].Draw(n)}}}).Context("confetti");u.start(),$(window).resize(function(){u.resize()})}$(document).keyup(function(t){13==t.which&&$("#button-next-question").is(":visible")&&0==$("#button-next-question").is(":disabled")&&getNextQuestion(),27==t.which&&$("#interactives-container").removeClass("fullscreen")}),$(document).ready(function(){$("#question-set-complete").hide(),$("#interactives-container").bind("submit-answer",function(t){submitAnswer()}),$("#interactives-container").bind("stop-timer",function(t){$("#timer-message").removeClass("active"),$("#timer-message").html("TIMER OFF")}),$("#start-questions").click(function(){startQuestions()}),$("#more-questions").click(function(){return startQuestions(),!1}),$("#next-lesson").click(function(){return createAndClickOnNextLesson(nextTutorial),!1}),$(".go-fullscreen").click(function(){$("#interactives-container").toggleClass("fullscreen")}),$("#button-submit-answer").click(function(){submitAnswer()}),$("#button-next-question").click(function(){getNextQuestion()}),$("#print-question-set").click(function(){return $("#question-set-container").printElement({overrideElementCSS:["/assets/dist/css/global.min.css","/assets/dist/css/students.min.css","/assets/dist/css/interactives/common.min.css","/assets/dist/css/interactives/input.min.css","/assets/dist/css/interactives/multiple-choice.min.css","/assets/bootstrap/css/bootstrap.min.css","/assets/dist/css/print.min.css"]}),!1}),$("#modal-message #btn-retry").click(function(){return $("#modal-message").modal("hide"),startQuestions(),!1}),$("#modal-message #btn-continue").click(function(){return $("#modal-message").modal("hide"),createAndClickOnNextLesson(nextTutorial),!1}),$("#export-question-set").click(function(){$("#question-set-container input").each(function(){$(this).attr("value",$(this).val())});var t,e=$("#question-set-container").html();return $.ajax({type:"POST",url:"/ajax/students/saveAsPDF",data:{content:(t=e,btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt(e,16))}))),tutorial:tutorial,menuId:menuId},success:function(t){var e=JSON.parse(t),i=e.url;$("<a />",{id:"result",href:i,download:e.name,text:"click"}).hide().appendTo("body")[0].click();$("#result").remove()},error:function(t){console.log("error",t)}}),!1})});